<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Photo Memories</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="favicon.png" type="image/png">
    <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Atma:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Color+Emoji&display=swap" rel="stylesheet">
</head>
<body>

    <div id="app-container" style="display: none;">
        </div>

    <button id="add-photo-btn" class="add-photo-btn" title="Add New Photo">
        <i class="fa-solid fa-plus"></i>
    </button>

    <button id="create-collection-btn" class="create-collection-btn" title="Create New Memory">
        <i class="fa-solid fa-folder-plus"></i>
    </button>

    <div id="upload-modal" class="modal-overlay">
        <div class="modal-content">
            <span class="modal-close" id="modal-close-btn">&times;</span>
            <h2>Add New Photos</h2>
            <form id="upload-form">
                <div class="form-group">
                    <label for="photo-files">Select Images:</label>
                    <input type="file" id="photo-files" accept="image/*" multiple required>
                </div>
                <div class="form-group">
                    <label for="photo-caption">Note / Caption (Optional):</label>
                    <textarea id="photo-caption" rows="3" placeholder="Write a beautiful caption..."></textarea>
                </div>
                <div class="form-group">
                    <label>Add Tags (Optional):</label>
                    <div id="tag-buttons-container" class="tag-buttons-container">
                        <button type="button" class="tag-button" data-tag="sunny">😎 Sunny</button>
                        <button type="button" class="tag-button" data-tag="happy">😀 Happy</button>
                        <button type="button" class="tag-button" data-tag="playful">😜 Playful</button>
                        <button type="button" class="tag-button" data-tag="romantic">🥰 Romantic</button>
                        <button type="button" class="tag-button" data-tag="sad">😥 Sad</button>
                        <button type="button" class="tag-button" data-tag="event">🎉 Event</button>
                        <button type="button" class="tag-button" data-tag="nature">🌳 Nature</button>
                        <button type="button" class="tag-button" data-tag="family">👨‍👩‍👧‍👦 Family</button>
                        <button type="button" class="tag-button" data-tag="friends">👯 Friends</button>
                        <button type="button" class="tag-button" data-tag="travel">✈️ Travel</button>
                    </div>
                    <input type="hidden" id="selected-tags" value=""> </div>
                <button type="submit" id="submit-upload-btn">Upload</button>
                <div id="upload-progress" class="upload-progress"></div>
            </form>
        </div>
    </div>

    <div id="create-collection-modal" class="modal-overlay">
        <div class="modal-content">
            <span class="modal-close" id="create-collection-close-btn">&times;</span>
            <h2>Create New Memory</h2>
            <form id="create-collection-form">
                <div class="form-group">
                    <label for="collection-name">Memory Name / Tag:</label>
                    <input type="text" id="collection-name" placeholder="e.g., Friends Reunion, Holiday 2024" required>
                </div>
                <div class="form-group">
                    <label for="collection-description">Short Description (Optional):</label>
                    <textarea id="collection-description" rows="3" placeholder="A brief description of this memory..."></textarea>
                </div>
                <button type="submit" id="submit-create-collection-btn">Create Memory</button>
            </form>
        </div>
    </div>

    <div id="delete-confirm-modal" class="modal-overlay">
        <div class="modal-content">
            <span class="modal-close" id="delete-modal-close-btn">&times;</span>
            <h2>Confirm Deletion</h2>
            <p id="delete-confirm-message">Are you sure you want to delete this item?</p>
            <div class="modal-actions">
                <button id="cancel-delete-btn" class="btn-secondary">Cancel</button>
                <button id="confirm-delete-btn" class="btn-danger">Delete</button>
            </div>
        </div>
    </div>

    <div id="lightbox" class="lightbox">
        <span class="lightbox-close">&times;</span>
        <img class="lightbox-content" id="lightbox-img">
    </div>

    <script src="https://www.gstatic.com/firebasejs/9.15.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.15.0/firebase-firestore-compat.js"></script>
    <script src="https://unpkg.com/imagekit-javascript/dist/imagekit.min.js"></script>

    <script src="security.js" type="module"></script>
    <script src="ui.js" type="module"></script>
</body>
</html>